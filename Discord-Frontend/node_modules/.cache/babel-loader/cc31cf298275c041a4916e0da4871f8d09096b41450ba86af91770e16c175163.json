{"ast":null,"code":"import { Navigate } from \"react-router-dom\";\nimport * as api from \"../../api\";\nimport { openAlertMessage } from \"./alertActions\";\nexport const authActions = {\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\"\n};\nexport const getActions = dispatch => {\n  return {\n    login: (userDetails, history) => dispatch(login(userDetails, history)),\n    register: (userDetails, history) => dispatch(register(userDetails, history))\n  };\n};\nconst setUserDetails = userDetails => {\n  return {\n    type: authActions.SET_USER_DETAILS,\n    userDetails\n  };\n};\nconst login = (userDetails, history) => {\n  return async dispatch => {\n    const response = await api.login(userDetails);\n    console.log(response, \"login\");\n    if (response.error) {\n      var _response$exception, _response$exception$r, _response$exception2, _response$exception2$, _response$exception3, _response$exception3$;\n      //show error meaasaage\n      dispatch(openAlertMessage(response === null || response === void 0 ? void 0 : (_response$exception = response.exception) === null || _response$exception === void 0 ? void 0 : (_response$exception$r = _response$exception.response) === null || _response$exception$r === void 0 ? void 0 : _response$exception$r.data));\n      dispatch(openAlertMessage(response === null || response === void 0 ? void 0 : (_response$exception2 = response.exception) === null || _response$exception2 === void 0 ? void 0 : (_response$exception2$ = _response$exception2.response) === null || _response$exception2$ === void 0 ? void 0 : _response$exception2$.data));\n      console.log(response === null || response === void 0 ? void 0 : (_response$exception3 = response.exception) === null || _response$exception3 === void 0 ? void 0 : (_response$exception3$ = _response$exception3.response) === null || _response$exception3$ === void 0 ? void 0 : _response$exception3$.data, \"authpage\");\n      // dispatch(openAlertMessage(response?.exception?.data))\n    } else {\n      const {\n        userDetails\n      } = response === null || response === void 0 ? void 0 : response.data;\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\n      dispatch(setUserDetails(userDetails));\n      // Navigate(\"/dashboard\")\n    }\n  };\n};\n\nconst register = (userDetails, history) => {\n  return async dispatch => {\n    const response = await api.register(userDetails);\n    if (response.error) {\n      var _response$exception4, _response$exception5, _response$exception5$;\n      //show error meaasaage\n      console.log(response === null || response === void 0 ? void 0 : (_response$exception4 = response.exception) === null || _response$exception4 === void 0 ? void 0 : _response$exception4.data, \"login\");\n      dispatch(openAlertMessage(response === null || response === void 0 ? void 0 : (_response$exception5 = response.exception) === null || _response$exception5 === void 0 ? void 0 : (_response$exception5$ = _response$exception5.response) === null || _response$exception5$ === void 0 ? void 0 : _response$exception5$.data));\n    } else {\n      const {\n        userDetails\n      } = response === null || response === void 0 ? void 0 : response.data;\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\n      dispatch(setUserDetails(userDetails));\n\n      // Navigate(\"/dashboard\")\n    }\n  };\n};","map":{"version":3,"names":["Navigate","api","openAlertMessage","authActions","SET_USER_DETAILS","getActions","dispatch","login","userDetails","history","register","setUserDetails","type","response","console","log","error","_response$exception","_response$exception$r","_response$exception2","_response$exception2$","_response$exception3","_response$exception3$","exception","data","localStorage","setItem","JSON","stringify","_response$exception4","_response$exception5","_response$exception5$"],"sources":["/home/sameeramp/Desktop/Behance-Project/discode-frontend/src/store/actions/authActions.js"],"sourcesContent":["import { Navigate } from \"react-router-dom\";\nimport * as api from \"../../api\"\nimport { openAlertMessage } from \"./alertActions\";\nexport const authActions = {\n    SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\",\n\n}\n\nexport const getActions = (dispatch) =>{\n    return {\n        login: (userDetails,history) => dispatch(login(userDetails, history)),\n        register: (userDetails, history) => \n        dispatch(register(userDetails, history)),\n\n    };\n};\n\n const setUserDetails = (userDetails) => {\nreturn {\n    type: authActions.SET_USER_DETAILS,\n    userDetails,\n};\n};\n\n\n  const login = (userDetails,history) => {\n\n    return async (dispatch) => {\n        const response = await api.login(userDetails)\n        console.log(response,\"login\")\n        if (response.error) {\n            //show error meaasaage\n            dispatch(openAlertMessage(response?.exception?.response?.data));\n          \n            dispatch(openAlertMessage(response?.exception?.response?.data))\nconsole.log(response?.exception?.response?.data,\"authpage\")\n            // dispatch(openAlertMessage(response?.exception?.data))\n        }else{\n            const { userDetails } = response?.data;\n            localStorage.setItem(\"user\", JSON.stringify(userDetails))\n\n            dispatch(setUserDetails(userDetails))\n            // Navigate(\"/dashboard\")\n        }\n    }\n}\n\n\n const register = ( userDetails , history) => {\n    return async (dispatch) => {\n        const response = await api.register(userDetails)\n      \n        if (response.error) {\n            //show error meaasaage\n            console.log(response?.exception?.data,\"login\")\n            dispatch(openAlertMessage(response?.exception?.response?.data))\n\n        }else{\n            const { userDetails } = response?.data;\n            localStorage.setItem(\"user\", JSON.stringify(userDetails))\n\n            dispatch(setUserDetails(userDetails))\n\n            // Navigate(\"/dashboard\")\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}